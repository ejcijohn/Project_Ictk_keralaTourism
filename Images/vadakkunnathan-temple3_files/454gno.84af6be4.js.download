(this.$WP=this.$WP||[]).push(["454gno",(e,t)=>{"use strict";var n,a,s,o,l,i,r,c,d,u,p,g,m,h,_,f,v,b,w,y,C,x,M,N,E,O,S,k="GOOGLE_ONETAP",G=({servletName:e,enhancedGoogleOneTapGate:t})=>a((()=>{var n=u("post_signup_attr_promo_onetap")&&("Home"===e||u("onetap_onboarding"))||u("post_signup_attr_promo_explicit_preferences");return t?{pid:40670,flow:k,deferShowOverlay:!0}:n?{pid:40666,flow:"GOOGLE_ONETAP_EMAIL_PROMO",deferShowOverlay:!0}:{pid:40185,flow:k,deferShowOverlay:!0}}),[e,t]),D=()=>{var e=s((()=>_.remove("g_state")),[]);return o((()=>e),[e]),e},I=({onNotDisplayed:e,onUserSkipped:t,onCredentialReady:n,containerId:r,flow:c,pid:d})=>{var u=l(null),[_,f]=i(!1),v=p(),b=x(),w=s(((e,t)=>{v({module:"google_onetap",action:e,context:`${t}|${c}`,value:d})}),[c,d,v]),y=s((e=>{e&&(w("credentials_success",e.select_by),n(e.credential),f(!1))}),[n,w]),C=s(((t,n)=>{w("display_event",n||"success"),m(t),f(t),t||e()}),[e,w]),M=s((e=>{w("skipped_event",e),f(!1),"user_cancel"===e&&t()}),[t,w]),N=s((e=>{w("dismiss_event",e),f(!1)}),[w]),E=s((e=>{switch(b(),e.getMomentType()){case"display":C(e.isDisplayed(),e.getNotDisplayedReason());break;case"skipped":M(e.getSkippedReason());break;case"dismiss":N(e.getDismissedReason())}}),[b,N,M,C]),O=s((e=>{null===u.current&&(u.current=e,w("requested","na"),e.initialize({client_id:"1070328450902.apps.googleusercontent.com",callback:y,cancel_on_tap_outside:!1,prompt_parent_id:r,auto_select:!h()}),e.prompt(E))}),[y,E,r,w]);return o((()=>{w("script_requested","na"),g("https://accounts.google.com/gsi/client","MEMX").then((()=>{var e,t,n,a=()=>O(window.google.accounts.id);null!=(e=window.google)&&null!=(t=e.accounts)&&null!=(n=t.id)&&n.initialize?a():window.onGoogleLibraryLoad=a}))}),[O,w]),o((()=>()=>{u.current&&u.current.cancel()}),[]),a((()=>({shown:_})),[_])},P=()=>({top:110,bottom:0}),R="euXEn Gi B1 Z BB Cj Za",T="fOQUM z",L="fXjSf Cj",j="fXdgM Cj Hn o q f u",B=({bottom:e})=>{var{isRtl:t}=n.useContext(c).locale,{userAgentCategory:a}=n.useContext(d),s=n.useMemo((()=>"MOBILE"===a),[a]);return w("div",s?{className:f("cDaMB D Gi l",R),style:{bottom:`${e||0}px`},children:w("div",{className:T,children:y("h3",{className:j,children:[w("span",{className:L,children:w(v,{})}),w(b,{id:"onetap_message_unlock"})," "]})})}:{className:f(R,{eYatD:t}),children:y("div",{className:T,children:[y("h3",{className:j,children:[w("span",{className:L,children:w(v,{})}),w(b,{id:"onetap_message_unlock"})," "]}),y("p",{className:"cmilf Cj o q",children:[w(b,{id:"onetap_message_subhead_to_get_the_most"})," "]})]})})},F=({shown:e,isContextualMessagingEnabled:t,onShow:n})=>{var{bottom:a}=N(),[s,l]=i(!1),[r,c]=i(0);return o((()=>{if(!e)return()=>{};var n=document.getElementById("credential_picker_iframe");if(n){if(n.style.bottom=`${a}px`,n.style.zIndex="10105",!t)return()=>{};var s,o=new MutationObserver((e=>{var t,n,a=null==e||null==(t=e[0])?void 0:t.target;if(a instanceof HTMLElement){clearTimeout(s);var o=parseInt((null==a||null==(n=a.style)?void 0:n.height)||0,10),i=isNaN(o)?0:o-9;s=setTimeout((()=>{c(i),l(i>0)}),400)}}));return o.observe(n,{attributes:!0}),()=>{o.disconnect(),clearTimeout(s)}}return()=>{}}),[a,e,t]),o((()=>{e&&n&&n()}),[e,n]),e&&s?w(E,{bottom:r+a}):null},H=({shown:e,containerId:t,isContextualMessagingEnabled:n,onShow:a})=>{var{top:s}=N(),[r,c]=i(!1),d=l(null);return o((()=>{if(e&&d&&d.current){var t=d.current.children[0];t&&(t.style.zIndex="10107",t.children&&0!==t.children.length&&(t.children[0].onload=()=>{c(n)}))}}),[e,n]),o((()=>{e&&a&&a()}),[e,a]),y("div",{className:f("bHxNO D P0 G- Za f e u",{cdFHD:!e}),style:{top:s},children:[r&&w(E,{}),w("div",{id:t,className:"pTaSj M0",ref:d})]})},A=["CheapFlightsSearchResults","CheapFlightsSearchDeals","MobileCheapFlightsSearchResults"],X="tripGoogleOnetapContainer",$=({trackWouldOpenExplicitPreferences:e,openExplicitPreferences:t,explicitPreferencesEnabled:a,servletName:s,enhancedGoogleOneTapGate:o,onDismiss:l,onShow:i,triggerNext:c})=>{var p=r(),g=C({servletName:s,enhancedGoogleOneTapGate:o}),m=n.useCallback((n=>{p({extraQueryParams:{google_id_token:n},onSuccess:n=>{n&&!0===n.hasCreatedMember&&(e&&e(),a&&t&&t())},onClose:()=>{u("reg_emailoptin")&&window.location.reload()},...g})}),[p,g,e,a,t]),{shown:h}=M({onNotDisplayed:()=>{c(),l()},onUserSkipped:l,onCredentialReady:m,containerId:X,pid:g.pid,flow:g.flow}),{userAgentCategory:_}=n.useContext(d);return n.useMemo((()=>"MOBILE"===_),[_])?w(O,{shown:h,onShow:i,isContextualMessagingEnabled:u("google_onetap_contextual_message_mobile_lithium")&&!A.includes(s)}):w(S,{shown:h,onShow:i,containerId:X,isContextualMessagingEnabled:u("google_onetap_contextual_message_desktop_lithium")&&!A.includes(s)})};return[()=>{C=G,x=D,M=I,N=P,E=B,O=F,S=H,e("default",$)},[e=>(n=e,a=e.useMemo,s=e.useCallback,o=e.useEffect,l=e.useRef,i=e.useState),e=>r=e.default,e=>(c=e.Environment,d=e.Device),e=>u=e.featureIsEnabled,e=>p=e.useGARecorder,e=>g=e.importScript,e=>(m=e.setOneTapEligibility,h=e.userSignedOut),e=>_=e.default,e=>f=e.default,e=>v=e.default,e=>b=e.default,e=>(w=e.jsx,y=e.jsxs)]]},["cDcdfi","mv7yXI","2R4xv2","-i3PJS","fsml46","pLbCP4","MWFqPp","vmXh3M","jSLlaY","L6dYHb","0DsHEV","F5FCuN"]]);
